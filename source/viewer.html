<!DOCTYPE html>
<html ng-app="ytUploadsViewer">
<head>
	<script src="/oauth2/oauth2.js"></script>
	<script src="viewer.js"></script>
	<!--<script src="https://apis.google.com/js/client.js?onload=initGapi"></script>-->
	<link rel="stylesheet" type="text/css" href="viewer.css">
</head>
<body ng-view>
	<div id="header">
		<button id="reload-extension-button">Reload Extension</button>
		<button id="refreshButton">Refresh Videos</button>
		<div id="login"><button id="authorizeButton">Log In</button></div>
		<div id="channelControls">
			<button id="markAllWatched">Mark all watched</button>
		</div>
	</div>
	
	<div id="nav" ng-controller="channelsController">
		<ul id="subscriptions">
			<li class="channelLabel" ng-repeat="channel in channels | orderObjectBy:'name'" ng-click="select(channel)">
				<img ng-src="{{channel.thumb}}" class="channelThumb">
				<span class="channelName">{{channel.name}}</span>
			</li>
		</ul>
	</div>
	
	<div id="content" ng-controller="videosController">
		<ul id="videos">
			<li ng-repeat="video in videosModel.uploads | orderBy:getRawUploadTime:true"><div class="vid">
				
				<div class="vidUploader">
					<!--.append(createChannelLink(channelId)-->
					<img ng-src="{{}}" class=vidUploaderImg">
					<span class="vidUploaderName">{{}}</span>
				</div>
				<div class="vidImg">
					<a href="https://www.youtube.com/watch?v={{getId(video)}}" target="_blank">
						<img ng-src="{{getThumbnail(video)}}" width="240">
					</a>
					<div class="vidDuration">{{getDuration(video)}}</div>
				</div>
				
				<div class="vidText">
					<div class="vidTitle">
						<a href="https://www.youtube.com/channel/{{getId(video)}}" target="_blank">{{getTitle(video)}}</a>
					</div>
					<div class="vidTime">{{getUploadTime(video)}}</div>
					<div class="vidDesc" ng-bind-html="getDescription(video)"></div>
				</div>
				<div class="vidMarkWatched">Mark watched</div>
				<div class="vidMarkUnwatched">Mark unwatched</div>
				</div></li>
		</ul>
	</div>
</body>
</html>
